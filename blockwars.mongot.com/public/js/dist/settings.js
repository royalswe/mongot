"use strict";function toggleSound(e){localStorage.setItem("toggle-sound",e.checked?"on":"off")}!function(){var e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.href="css/rules.css",document.getElementsByTagName("head")[0].appendChild(e);var t=document.getElementById("rules_modal"),n=document.getElementById("prevBtn"),l=document.getElementById("nextBtn"),o=document.getElementsByClassName("tab"),a=document.getElementsByClassName("icon-help")[0],s=document.getElementsByClassName("close-rules")[0];a.onclick=function(){t.style.display="block"},s.onclick=function(){t.style.display="none"},n.onclick=function(){d(-1)},l.onclick=function(){d(1)},window.onclick=function(e){e.target==t&&(t.style.display="none")};var c=0;function i(e){o[e].style.display="block",n.style.display=0==e?"none":"inline",e==o.length-1?l.innerHTML="I understand":l.innerHTML="Next",r(e)}function d(e){if(o[c].style.display="none",(c+=e)>=o.length)return i(c=0),r(c),localStorage.setItem("rule-read",!0),void(t.style.display="none");i(c)}function r(e){var t,n=document.getElementsByClassName("step");for(t=0;t<n.length;t++)n[t].className=n[t].className.replace(" active","");n[e].className+=" active"}i(c),"undefined"!=typeof Storage?(null===localStorage.getItem("rule-read")&&(t.style.display="block",document.getElementsByClassName("rules-popup")[0].setAttribute("style","margin-top: 0;")),"off"===localStorage.getItem("toggle-sound")&&(document.getElementById("toggle_sound").checked=!1)):t.style.display="block"}();var KEY_BINDS={moveLeft:37,moveRight:39,moveDown:40,hardDrop:32,rotRight:38,rotLeft:90,special1:49,special2:50,special3:51,special4:52,special5:53};!function(){var n,l,o={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"Caps Lock",27:"Esc",32:"Space",33:"PgUp",34:"PgDn",35:"End",36:"Home",37:"←",38:"↑",39:"→",40:"↓",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0kpad",97:"1kpad",98:"2kpad",99:"3kpad",100:"4kpad",101:"5kpad",102:"6kpad",103:"7kpad",104:"8kpad",105:"9kpad",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},e=!1,a=document.getElementById("controls").getElementsByTagName("td"),t=document.getElementById("controler_settings");if(document.getElementsByClassName("icon-keyboard")[0].onclick=function(){t.style.display="block",e||(e=!0,function(){for(var e=0,t=a.length;e<t;e++)a[e].onclick=function(){n&&(KEY_BINDS[n.id]=l,n.innerHTML=o[l]),l=KEY_BINDS[this.id],this.innerHTML="Press key",n=this};document.addEventListener("keyup",function(e){if(n){for(var t in KEY_BINDS)e.keyCode===KEY_BINDS[t]&&(KEY_BINDS[t]=void 0,document.getElementById(t).innerHTML=KEY_BINDS[t]);KEY_BINDS[n.id]=e.keyCode,n.innerHTML=o[e.keyCode],localStorage.setItem("KEY_BINDS",JSON.stringify(KEY_BINDS)),n=0}},!1)}())},document.getElementsByClassName("close-controler-modal")[0].onclick=function(){t.style.display="none",n&&(KEY_BINDS[n.id]=l,n.innerHTML=o[l],n=0)},localStorage.KEY_BINDS){KEY_BINDS=JSON.parse(localStorage.getItem("KEY_BINDS"));for(var s=0,c=a.length;s<c;s++)a[s].innerHTML=o[KEY_BINDS[a[s].id]]}}();